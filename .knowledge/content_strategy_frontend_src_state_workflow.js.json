{"is_source_file": true, "format": "JavaScript", "description": "This file defines a React context and reducer for managing a multi-step workflow process, including state initialization, normalization, event handling, and persistence. It includes constants for step statuses, event types, and role-based estimates, as well as functions for state transitions and hooks for usage within React components.", "external_files": ["../domain/workflow"], "external_methods": ["React.createContext", "React.useContext", "React.useReducer", "React.useEffect", "React.useMemo"], "published": ["WorkflowStepStatus", "WorkflowProvider", "useWorkflow", "getWorkflowRoleUiStateFromSteps"], "classes": [], "methods": [{"name": "createInitialSteps", "description": "Creates initial workflow steps with default statuses and estimates based on roles."}, {"name": "createInitialState", "description": "Generates the initial workflow state object for a given artifact ID."}, {"name": "normalizeLoadedState", "description": "Normalizes raw loaded state data into the internal workflow state structure, ensuring defaults and consistency."}, {"name": "canAdvanceFromStep", "description": "Checks if the current step can be advanced, requiring it to be approved and not paused."}, {"name": "isWorkflowPaused", "description": "Determines if the current workflow is paused based on the current step status."}, {"name": "addEvent", "description": "Adds a new event to the events list, maintaining a maximum of 50 recent events."}, {"name": "setStep", "description": "Updates a specific step's properties within the workflow state."}, {"name": "advanceIfPossible", "description": "Advances the workflow to the next step if conditions permit."}, {"name": "workflowReducer", "description": "Reducer function handling workflow state transitions based on dispatched actions."}, {"name": "WorkflowProvider", "description": "React component providing workflow state and actions via context, with persistence."}, {"name": "useWorkflow", "description": "Custom hook to access workflow state and actions within React components."}, {"name": "getWorkflowRoleUiStateFromSteps", "description": "Maps step statuses into UI states for sidebar display: current, complete, upcoming."}], "calls": ["React.createContext", "React.useContext", "React.useReducer", "React.useEffect", "React.useMemo", "window.sessionStorage.getItem", "window.localStorage.getItem", "JSON.parse", "JSON.stringify", "window.sessionStorage.setItem", "window.localStorage.setItem", "Date.now"], "search-terms": ["workflow state management", "React context workflow", "workflow steps", "workflow events", "workflow persistence", "workflow reducer", "workflow roles", "workflow status", "workflow actions"], "state": 2, "file_id": 40, "knowledge_revision": 122, "git_revision": "4ee3bd9677ec10ef90eada0c70339c25df1d73d4", "revision_history": [{"106": "4ee3bd9677ec10ef90eada0c70339c25df1d73d4"}, {"122": "4ee3bd9677ec10ef90eada0c70339c25df1d73d4"}], "ctags": [], "filename": "content_strategy_frontend/src/state/workflow.js", "format-version": 4, "code-base-name": "https://github.com/kavia-common/cultural-content-creator-for-hispanic-communities-227577-228328.git:kavia-main"}