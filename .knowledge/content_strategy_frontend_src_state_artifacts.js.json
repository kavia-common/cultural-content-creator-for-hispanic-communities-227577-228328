{"is_source_file": true, "format": "JavaScript (React)", "description": "This file contains React context and hooks for managing the state of artifacts such as captions, scripts, and outlines, including functions for loading, updating, and auditing content variations. It provides a context provider for frontend state management in a content creation application.", "external_files": ["../services/openaiCaptions"], "external_methods": ["CaptionVariationType"], "published": ["ArtifactsProvider", "useArtifacts", "ArtifactTypes"], "classes": [], "methods": [{"name": "ArtifactsProvider({ artifactId, children })", "description": "React context provider component that manages the state of content artifacts with versioning and audit trail.", "scope": "", "scopeKind": ""}, {"name": "useArtifacts()", "description": "React hook to access the artifacts state and actions within the context provider.", "scope": "", "scopeKind": ""}, {"name": "addAudit(state, entry)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "createInitialState(artifactId)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "makeItem({ variationType, text, language, emotion })", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "newId(prefix)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "normalizeList(rawList)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "normalizeLoadedState(raw, artifactId)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "normalizeVariation(type)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "nowTs()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "reducer(state, action)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "safeParse(json, fallback)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "storageKeyForArtifact(artifactId)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "upsertItemsFromGenerated({ items, language, emotion })", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["React.createContext", "React.useContext", "React.useEffect", "React.useMemo", "React.useReducer", "window.sessionStorage.getItem", "window.localStorage.getItem", "window.sessionStorage.setItem", "window.localStorage.setItem"], "search-terms": ["artifacts context", "content versioning", "audit trail", "React context provider", "state management for captions scripts outlines"], "state": 2, "file_id": 49, "knowledge_revision": 165, "git_revision": "9518e65112ac6d28783e6f346e348c12d17b7281", "ctags": [{"_type": "tag", "name": "ArtifactTypes", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^export const ArtifactTypes = ArtifactType;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "ArtifactsContext", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^const ArtifactsContext = createContext(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "ArtifactsProvider", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^export function ArtifactsProvider({ artifactId, children }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ artifactId, children })"}, {"_type": "tag", "name": "STORAGE_PREFIX", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^const STORAGE_PREFIX = 'ccch.artifacts.v1';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "action", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^    action: entry.action || 'updated',$/", "language": "JavaScript", "kind": "property", "scope": "addAudit.e", "scopeKind": "class"}, {"_type": "tag", "name": "actor", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^    actor: entry.actor || 'user',$/", "language": "JavaScript", "kind": "property", "scope": "addAudit.e", "scopeKind": "class"}, {"_type": "tag", "name": "addAudit", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^function addAudit(state, entry) {$/", "language": "JavaScript", "kind": "function", "signature": "(state, entry)"}, {"_type": "tag", "name": "artifactType", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^    artifactType: entry.artifactType || '',$/", "language": "JavaScript", "kind": "property", "scope": "addAudit.e", "scopeKind": "class"}, {"_type": "tag", "name": "challenge", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^    challenge: typeof raw.engagement?.challenge === 'string' ? raw.engagement.challenge : ''$/", "language": "JavaScript", "kind": "property", "scope": "normalizeLoadedState.engagement", "scopeKind": "class"}, {"_type": "tag", "name": "context", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^  const context = {$/", "language": "JavaScript", "kind": "class", "scope": "normalizeLoadedState", "scopeKind": "class"}, {"_type": "tag", "name": "createInitialState", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^function createInitialState(artifactId) {$/", "language": "JavaScript", "kind": "function", "signature": "(artifactId)"}, {"_type": "tag", "name": "details", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^    details: entry.details || ''$/", "language": "JavaScript", "kind": "property", "scope": "addAudit.e", "scopeKind": "class"}, {"_type": "tag", "name": "e", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^  const e = {$/", "language": "JavaScript", "kind": "class", "scope": "addAudit", "scopeKind": "class"}, {"_type": "tag", "name": "emotion", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^    emotion: typeof raw.context?.emotion === 'string' ? raw.context.emotion : 'closeness',$/", "language": "JavaScript", "kind": "property", "scope": "normalizeLoadedState.context", "scopeKind": "class"}, {"_type": "tag", "name": "engagement", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^  const engagement = {$/", "language": "JavaScript", "kind": "class", "scope": "normalizeLoadedState", "scopeKind": "class"}, {"_type": "tag", "name": "id", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^    id: entry.id || newId('audit'),$/", "language": "JavaScript", "kind": "property", "scope": "addAudit.e", "scopeKind": "class"}, {"_type": "tag", "name": "language", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^    language: raw.context?.language === 'es' ? 'es' : 'en'$/", "language": "JavaScript", "kind": "property", "scope": "normalizeLoadedState.context", "scopeKind": "class"}, {"_type": "tag", "name": "makeItem", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^function makeItem({ variationType, text, language, emotion }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ variationType, text, language, emotion })"}, {"_type": "tag", "name": "newId", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^function newId(prefix) {$/", "language": "JavaScript", "kind": "function", "signature": "(prefix)"}, {"_type": "tag", "name": "niche", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^    niche: typeof raw.context?.niche === 'string' ? raw.context.niche : 'telemedicine',$/", "language": "JavaScript", "kind": "property", "scope": "normalizeLoadedState.context", "scopeKind": "class"}, {"_type": "tag", "name": "normalizeList", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^function normalizeList(rawList) {$/", "language": "JavaScript", "kind": "function", "signature": "(rawList)"}, {"_type": "tag", "name": "normalizeLoadedState", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^function normalizeLoadedState(raw, artifactId) {$/", "language": "JavaScript", "kind": "function", "signature": "(raw, artifactId)"}, {"_type": "tag", "name": "normalizeVariation", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^function normalizeVariation(type) {$/", "language": "JavaScript", "kind": "function", "signature": "(type)"}, {"_type": "tag", "name": "nowTs", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^function nowTs() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "openQuestion", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^    openQuestion: typeof raw.engagement?.openQuestion === 'string' ? raw.engagement.openQuestion/", "language": "JavaScript", "kind": "property", "scope": "normalizeLoadedState.engagement", "scopeKind": "class"}, {"_type": "tag", "name": "predictive", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^  const predictive = {$/", "language": "JavaScript", "kind": "class", "scope": "normalizeLoadedState", "scopeKind": "class"}, {"_type": "tag", "name": "reducer", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^function reducer(state, action) {$/", "language": "JavaScript", "kind": "function", "signature": "(state, action)"}, {"_type": "tag", "name": "safeParse", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^function safeParse(json, fallback) {$/", "language": "JavaScript", "kind": "function", "signature": "(json, fallback)"}, {"_type": "tag", "name": "segments", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^    segments: Array.isArray(raw.predictive?.segments) ? raw.predictive.segments : [],$/", "language": "JavaScript", "kind": "property", "scope": "normalizeLoadedState.predictive", "scopeKind": "class"}, {"_type": "tag", "name": "storageKeyForArtifact", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^function storageKeyForArtifact(artifactId) {$/", "language": "JavaScript", "kind": "function", "signature": "(artifactId)"}, {"_type": "tag", "name": "survey", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^    survey: typeof raw.engagement?.survey === 'string' ? raw.engagement.survey : '',$/", "language": "JavaScript", "kind": "property", "scope": "normalizeLoadedState.engagement", "scopeKind": "class"}, {"_type": "tag", "name": "topic", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^    topic: typeof raw.context?.topic === 'string' ? raw.context.topic : '',$/", "language": "JavaScript", "kind": "property", "scope": "normalizeLoadedState.context", "scopeKind": "class"}, {"_type": "tag", "name": "ts", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^    ts: entry.ts || nowTs(),$/", "language": "JavaScript", "kind": "property", "scope": "addAudit.e", "scopeKind": "class"}, {"_type": "tag", "name": "tweaks", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^    tweaks: Array.isArray(raw.predictive?.tweaks) ? raw.predictive.tweaks : []$/", "language": "JavaScript", "kind": "property", "scope": "normalizeLoadedState.predictive", "scopeKind": "class"}, {"_type": "tag", "name": "upsertItemsFromGenerated", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^function upsertItemsFromGenerated({ items, language, emotion }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ items, language, emotion })"}, {"_type": "tag", "name": "useArtifacts", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^export function useArtifacts() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "value", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^  return <ArtifactsContext.Provider value={value}>{children}<\\/ArtifactsContext.Provider>;$/", "language": "JavaScript", "kind": "field", "scope": "Provider", "scopeKind": "class"}, {"_type": "tag", "name": "variationType", "path": "/home/kavia/workspace/code-generation/cultural-content-creator-for-hispanic-communities-227577-228328/content_strategy_frontend/src/state/artifacts.js", "pattern": "/^    variationType: entry.variationType || null,$/", "language": "JavaScript", "kind": "property", "scope": "addAudit.e", "scopeKind": "class"}], "hash": "c3eb1121a309f85f5e6775edfe657584", "format-version": 4, "code-base-name": "content_strategy_frontend", "filename": "content_strategy_frontend/src/state/artifacts.js", "fields": [{"name": "action: entry.action || 'updated',", "scope": "addAudit.e", "scopeKind": "class", "description": "unavailable"}, {"name": "actor: entry.actor || 'user',", "scope": "addAudit.e", "scopeKind": "class", "description": "unavailable"}, {"name": "artifactType: entry.artifactType || '',", "scope": "addAudit.e", "scopeKind": "class", "description": "unavailable"}, {"name": "challenge: typeof raw.engagement?.challenge === 'string' ? raw.engagement.challenge : ''", "scope": "normalizeLoadedState.engagement", "scopeKind": "class", "description": "unavailable"}, {"name": "details: entry.details || ''", "scope": "addAudit.e", "scopeKind": "class", "description": "unavailable"}, {"name": "emotion: typeof raw.context?.emotion === 'string' ? raw.context.emotion : 'closeness',", "scope": "normalizeLoadedState.context", "scopeKind": "class", "description": "unavailable"}, {"name": "id: entry.id || newId('audit'),", "scope": "addAudit.e", "scopeKind": "class", "description": "unavailable"}, {"name": "language: raw.context?.language === 'es' ? 'es' : 'en'", "scope": "normalizeLoadedState.context", "scopeKind": "class", "description": "unavailable"}, {"name": "niche: typeof raw.context?.niche === 'string' ? raw.context.niche : 'telemedicine',", "scope": "normalizeLoadedState.context", "scopeKind": "class", "description": "unavailable"}, {"name": "openQuestion: typeof raw.engagement?.openQuestion === 'string' ? raw.engagement.openQuestion/", "scope": "normalizeLoadedState.engagement", "scopeKind": "class", "description": "unavailable"}, {"name": "segments: Array.isArray(raw.predictive?.segments) ? raw.predictive.segments : [],", "scope": "normalizeLoadedState.predictive", "scopeKind": "class", "description": "unavailable"}, {"name": "survey: typeof raw.engagement?.survey === 'string' ? raw.engagement.survey : '',", "scope": "normalizeLoadedState.engagement", "scopeKind": "class", "description": "unavailable"}, {"name": "topic: typeof raw.context?.topic === 'string' ? raw.context.topic : '',", "scope": "normalizeLoadedState.context", "scopeKind": "class", "description": "unavailable"}, {"name": "ts: entry.ts || nowTs(),", "scope": "addAudit.e", "scopeKind": "class", "description": "unavailable"}, {"name": "tweaks: Array.isArray(raw.predictive?.tweaks) ? raw.predictive.tweaks : []", "scope": "normalizeLoadedState.predictive", "scopeKind": "class", "description": "unavailable"}, {"name": "return <ArtifactsContext.Provider value={value}>{children}<\\/ArtifactsContext.Provider>;", "scope": "Provider", "scopeKind": "class", "description": "unavailable"}, {"name": "variationType: entry.variationType || null,", "scope": "addAudit.e", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"165": "9518e65112ac6d28783e6f346e348c12d17b7281"}]}